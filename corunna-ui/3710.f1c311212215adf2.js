"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[3710],{3710:(Z,m,a)=>{a.r(m),a.d(m,{GameHomePageModule:()=>x});var c=a(9595),s=a(8118),u=a(6059),f=a(9063),o=a(4650),h=a(2216),g=a(2054),d=a(6895);const y=[{path:"",component:(()=>{class r{constructor(t){this.gameService=t,this.colors=["#5470C6","#e91e63","#EE6666"],this.option={color:this.colors,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"12%"},toolbox:{feature:{saveAsImage:{show:!0}}},legend:{data:["PlayCount","PlayAmount"]},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:35},data:["dt1","dt2"]}],yAxis:[{type:"value",name:"PlayCount",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[0]}}},{type:"value",name:"PlayAmount",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[1]}},axisLabel:{formatter:(e,n)=>e<1e3?e.toString():e/1e3+"K"}}],series:[{name:"PlayCount",type:"bar",data:[2,4]},{name:"PlayAmount",type:"bar",yAxisIndex:1,data:[3,5]}]},this.gameHomeData={}}ngOnInit(){this.gameService.updateReport.subscribe(t=>t?this.getGameHome():null)}ionViewDidEnter(){this.getGameHome()}ionViewWillLeave(){this.ionRefresher?.complete()}onChartInit(t){this.echartsInstance=t,this.getGameHome()}onChartEvent(t){}getGameHome(t){this.gameService.gameHomeData().subscribe(e=>{t&&t.target.complete(),this.gameHomeData=e,this.formatForChat(this.gameHomeData?.popularGames)})}formatForChat(t){if(!t||!t.length)return;const e=[],n=[],l=[];(t=(0,f.Sy)(t)).forEach(i=>{e.push(i._id),n.push(i.amount),l.push(i.count)}),this.option={color:this.colors,title:{text:"Salon Popular Games"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"12%",top:"20%"},toolbox:{feature:{saveAsImage:{show:!0}}},legend:{data:["PlayCount","PlayAmount"],top:"25"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:35},data:[...e]}],yAxis:[{type:"value",name:"PlayCount",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[0]}}},{type:"value",name:"PlayAmount",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[1]}},axisLabel:{formatter:(i,v)=>i<1e3?i.toString():i/1e3+"K"}}],series:[{name:"PlayCount",type:"bar",data:[...l]},{name:"PlayAmount",type:"bar",yAxisIndex:1,data:[...n]}]}}static#o=this.\u0275fac=function(e){return new(e||r)(o.Y36(u.h))};static#t=this.\u0275cmp=o.Xpm({type:r,selectors:[["healmah-game-home"]],viewQuery:function(e,n){if(1&e&&o.Gf(s.nJ,5),2&e){let l;o.iGM(l=o.CRH())&&(n.ionRefresher=l.first)}},decls:50,vars:10,consts:[["color","tertiary",1,"bg:transparent!","shadow:none!","ion-no-border"],[1,"ion-no-border","ion-padding","min-h:20vh!","shadow:0|1|2|rgba(0,0,0,0.5)!","d:flex!","ai:center","rb:50px","f:white!","$background:url('assets/rmd/img/header.png')!","bg:cover","bg:no-repeat","bg:fixed","text-shadow:0|0|2|rgba(0,0,0,0.9)!","ml:-5","w:calc(100%+5px)"],[1,"d:flex","w:100%","flex:1","rel","jc:space-between","gap:5","r:20","f:1rem","text-align:center","f:white","{d:flex;flex-direction:column;gap:10;w:fit-content;p:10;r:5;flex:1!}>section","{f:2rem;f:white;}>section>span","{opacity:1}_ion-label","{m:0!;p:0!;}_hr"],["color","tertiary",1,"ion-padding"],["slot","fixed",3,"ionRefresh"],[1,"d:flex","jc:space-around","f:black","{flex:1;d:flex;flex-direction:column;ai:center;jc:center}_div","{bg:linear-gradient(#1F5BBC,#FF3AF3,#1F5BBC);f:2rem;p:20;r:10;f:white!}_.btn"],["routerLink","/super/game-play"],[1,"btn"],["icon","volleyball"],["routerLink","/super/game-history"],["icon","history"],["routerLink","/super/game-list"],["icon","list-ol"],["echarts","",1,"h:400","w:100%!","mt:15",3,"options","chartInit","chartClick"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"header",2)(3,"section")(4,"span"),o._uU(5),o.ALo(6,"number"),o.qZA(),o._UZ(7,"hr"),o.TgZ(8,"ion-label"),o._uU(9,"Games"),o._UZ(10,"br"),o._uU(11," Count"),o.qZA()(),o.TgZ(12,"section")(13,"span"),o._uU(14),o.ALo(15,"number"),o.qZA(),o._UZ(16,"hr"),o.TgZ(17,"ion-label"),o._uU(18,"Play "),o._UZ(19,"br"),o._uU(20," Count"),o.qZA()(),o.TgZ(21,"section")(22,"span"),o._uU(23),o.ALo(24,"number"),o.qZA(),o._UZ(25,"hr"),o.TgZ(26,"ion-label"),o._uU(27,"Play"),o._UZ(28,"br"),o._uU(29,"Amount"),o.qZA()()()()(),o.TgZ(30,"ion-content",3)(31,"ion-refresher",4),o.NdJ("ionRefresh",function(i){return n.getGameHome(i)}),o._UZ(32,"ion-refresher-content"),o.qZA(),o.TgZ(33,"main",5)(34,"div",6)(35,"button",7),o._UZ(36,"fa-icon",8),o.qZA(),o.TgZ(37,"label"),o._uU(38,"Play"),o.qZA()(),o.TgZ(39,"div",9)(40,"button",7),o._UZ(41,"fa-icon",10),o.qZA(),o.TgZ(42,"label"),o._uU(43,"History"),o.qZA()(),o.TgZ(44,"div",11)(45,"button",7),o._UZ(46,"fa-icon",12),o.qZA(),o.TgZ(47,"label"),o._uU(48,"List"),o.qZA()()(),o.TgZ(49,"div",13),o.NdJ("chartInit",function(i){return n.onChartInit(i)})("chartClick",function(i){return n.onChartEvent({event:i})}),o.qZA()()),2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,4,(null==n.gameHomeData?null:n.gameHomeData.gamesCount)||0)),o.xp6(9),o.Oqu(o.lcZ(15,6,(null==n.gameHomeData||null==n.gameHomeData.gameStats?null:n.gameHomeData.gameStats.count)||0)),o.xp6(9),o.Oqu(o.lcZ(24,8,(null==n.gameHomeData||null==n.gameHomeData.gameStats?null:n.gameHomeData.gameStats.amount)||0)),o.xp6(26),o.Q6J("options",n.option))},dependencies:[c.rH,s.W2,s.Gu,s.Q$,s.nJ,s.Wo,s.sr,s.YI,h.BN,g._w,d.JJ],styles:["[_nghost-%COMP%]{--ion-color-primary: #1F5BBC;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #f3f3f3;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return r})()}];let p=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[c.Bz.forChild(y),c.Bz]})}return r})();var b=a(4850);let x=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[b._o,g.Ns.forRoot({echarts:()=>a.e(1701).then(a.bind(a,1701))}),p]})}return r})()}}]);