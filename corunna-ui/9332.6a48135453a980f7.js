"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[9332],{9332:(Z,g,a)=>{a.r(g),a.d(g,{GameHomePageModule:()=>x});var c=a(9595),s=a(8118),f=a(8727),u=a(9063),o=a(4650),d=a(2216),m=a(2054),h=a(6895);const p=[{path:"",component:(()=>{class r{constructor(t){this.gameService=t,this.colors=["#5470C6","#e91e63","#EE6666"],this.option={color:this.colors,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"12%"},toolbox:{feature:{saveAsImage:{show:!0}}},legend:{data:["PlayCount","PlayAmount"],textStyle:{color:"#fff"}},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:35},data:["dt1","dt2"]}],yAxis:[{type:"value",name:"PlayCount",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[0]}}},{type:"value",name:"PlayAmount",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[1]}},axisLabel:{formatter:(e,n)=>e<1e3?e.toString():e/1e3+"K"}}],series:[{name:"PlayCount",type:"bar",data:[2,4]},{name:"PlayAmount",type:"bar",yAxisIndex:1,data:[3,5]}]},this.gameHomeData={}}ngOnInit(){this.gameService.updateReport.subscribe(t=>t?this.getGameHome():null)}ionViewDidEnter(){this.getGameHome()}ionViewWillLeave(){this.ionRefresher?.complete()}onChartInit(t){this.echartsInstance=t,this.getGameHome()}onChartEvent(t){}getGameHome(t){this.gameService.gameHomeData().subscribe(e=>{t&&t.target.complete(),this.gameHomeData=e,this.formatForChat(this.gameHomeData?.popularGames)})}formatForChat(t){if(!t||!t.length)return;const e=[],n=[],l=[];(t=(0,u.Sy)(t)).forEach(i=>{e.push(i._id),n.push(i.amount),l.push(i.count)}),this.option={color:this.colors,title:{text:"Salon Popular Games",textStyle:{color:"#fff"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"12%",top:"20%"},toolbox:{feature:{saveAsImage:{show:!0}}},legend:{data:["PlayCount","PlayAmount"],top:"25",textStyle:{color:"#fff"}},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:35},data:[...e]}],yAxis:[{type:"value",name:"PlayCount",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[0]}}},{type:"value",name:"PlayAmount",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:this.colors[1]}},axisLabel:{formatter:(i,v)=>i<1e3?i.toString():i/1e3+"K"}}],series:[{name:"PlayCount",type:"bar",data:[...l]},{name:"PlayAmount",type:"bar",yAxisIndex:1,data:[...n]}]}}static#o=this.\u0275fac=function(e){return new(e||r)(o.Y36(f.h))};static#t=this.\u0275cmp=o.Xpm({type:r,selectors:[["healmah-game-home"]],viewQuery:function(e,n){if(1&e&&o.Gf(s.nJ,5),2&e){let l;o.iGM(l=o.CRH())&&(n.ionRefresher=l.first)}},decls:50,vars:10,consts:[["color","primary",1,"ion-padding"],["slot","fixed",3,"ionRefresh"],[1,"d:flex","jc:space-around","f:white","{flex:1;d:flex;flex-direction:column;ai:center;jc:center}_div","{bg:linear-gradient(#FA7B76,#1F2630,#A46A43);f:2rem;p:20;r:10;f:white!}_.btn"],["routerLink","/super/game-play"],[1,"btn"],["icon","volleyball"],["routerLink","/super/game-history"],["icon","history"],["routerLink","/super/game-list"],["icon","list-ol"],["echarts","",1,"h:400","w:100%!","mt:15",3,"options","chartInit","chartClick"],[1,"bg:#333B46!","shadow:none!","ion-no-border"],[1,"ion-no-border","ion-padding","min-h:20vh!","shadow:0|-1|2|rgba(0,0,0,0.3)!","d:flex!","ai:center","rt:50px","f:white!","text-shadow:0|0|2|rgba(0,0,0,0.9)!","w:calc(100%)"],[1,"d:flex","w:100%","flex:1","rel","jc:space-between","gap:5","r:20","f:1rem","text-align:center","f:white","{d:flex;flex-direction:column;gap:10;w:fit-content;p:10;r:5;flex:1!}>section","{f:2rem;f:white;}>section>span","{opacity:1}_ion-label","{m:0!;p:0!;}_hr"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-content",0)(1,"ion-refresher",1),o.NdJ("ionRefresh",function(i){return n.getGameHome(i)}),o._UZ(2,"ion-refresher-content"),o.qZA(),o.TgZ(3,"main",2)(4,"div",3)(5,"button",4),o._UZ(6,"fa-icon",5),o.qZA(),o.TgZ(7,"label"),o._uU(8,"Play"),o.qZA()(),o.TgZ(9,"div",6)(10,"button",4),o._UZ(11,"fa-icon",7),o.qZA(),o.TgZ(12,"label"),o._uU(13,"History"),o.qZA()(),o.TgZ(14,"div",8)(15,"button",4),o._UZ(16,"fa-icon",9),o.qZA(),o.TgZ(17,"label"),o._uU(18,"List"),o.qZA()()(),o.TgZ(19,"div",10),o.NdJ("chartInit",function(i){return n.onChartInit(i)})("chartClick",function(i){return n.onChartEvent({event:i})}),o.qZA()(),o.TgZ(20,"ion-footer",11)(21,"ion-toolbar",12)(22,"header",13)(23,"section")(24,"span"),o._uU(25),o.ALo(26,"number"),o.qZA(),o._UZ(27,"hr"),o.TgZ(28,"ion-label"),o._uU(29,"Games"),o._UZ(30,"br"),o._uU(31," Count"),o.qZA()(),o.TgZ(32,"section")(33,"span"),o._uU(34),o.ALo(35,"number"),o.qZA(),o._UZ(36,"hr"),o.TgZ(37,"ion-label"),o._uU(38,"Play "),o._UZ(39,"br"),o._uU(40," Count"),o.qZA()(),o.TgZ(41,"section")(42,"span"),o._uU(43),o.ALo(44,"number"),o.qZA(),o._UZ(45,"hr"),o.TgZ(46,"ion-label"),o._uU(47,"Play"),o._UZ(48,"br"),o._uU(49,"Amount"),o.qZA()()()()()),2&e&&(o.xp6(19),o.Q6J("options",n.option),o.xp6(6),o.Oqu(o.lcZ(26,4,(null==n.gameHomeData?null:n.gameHomeData.gamesCount)||0)),o.xp6(9),o.Oqu(o.lcZ(35,6,(null==n.gameHomeData||null==n.gameHomeData.gameStats?null:n.gameHomeData.gameStats.count)||0)),o.xp6(9),o.Oqu(o.lcZ(44,8,(null==n.gameHomeData||null==n.gameHomeData.gameStats?null:n.gameHomeData.gameStats.amount)||0)))},dependencies:[c.rH,s.W2,s.fr,s.Q$,s.nJ,s.Wo,s.sr,s.YI,d.BN,m._w,h.JJ],styles:["[_nghost-%COMP%]{--ion-color-primary: #333B46;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #333B46;--ion-color-primary-tint: #333B46;--ion-color-secondary: #1F2630;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #1F2630;--ion-color-secondary-tint: #1F2630;--ion-color-tertiary: #f3f3f3;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}ion-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077);background-size:20px 35px;background-position:0 0,0 0,10px 18px,10px 18px,0 0,10px 18px}"]})}return r})()}];let y=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[c.Bz.forChild(p),c.Bz]})}return r})();var b=a(4850);let x=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[b._o,m.Ns.forRoot({echarts:()=>a.e(1701).then(a.bind(a,1701))}),y]})}return r})()}}]);