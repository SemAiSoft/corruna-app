"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[8046],{8046:(w,f,n)=>{n.r(f),n.d(f,{StockEditPageModule:()=>Z});var u=n(9595),d=n(5861),t=n(4006),m=n(4201),l=n(5115),k=n(1263),g=n(9063),h=n(2958),o=n(4650),p=n(2412),a=n(8118),y=n(8093),v=n(2216);const b=[{path:"",component:(()=>{class i{constructor(r,e,c,s){this.toastService=r,this.menuService=e,this.stocksService=c,this.platform=s,this.stockItemForm=new t.cw({itemName:new t.NI(null,t.kI.required),quantity:new t.NI(null,[t.kI.required,t.kI.min(0)]),unitCostPrice:new t.NI(null,[t.kI.required,t.kI.min(1)]),unitSellingPrice:new t.NI(null,[t.kI.required,t.kI.min(1)])})}saveStock(){var r=this;return(0,d.Z)(function*(){r.stockItemForm.invalid?yield h.F.show({text:g.xR.invalidForm,duration:"long",position:"top"}):r.stocksService.saveStock(r.stockItemForm.value).subscribe(function(){var e=(0,d.Z)(function*(c){c?._id&&(r.stockItemForm.reset(),yield h.F.show({text:g.kt.formSaved,duration:"long",position:"top"}))});return function(c){return e.apply(this,arguments)}}())})()}ionViewDidEnter(){if(this.menuService.contextRow){const r=this.menuService.contextRow.rowData;this.stockItemForm=new t.cw({_id:new t.NI(r._id),itemName:new t.NI(r?.itemName,t.kI.required),quantity:new t.NI(r?.quantity,[t.kI.required,t.kI.min(0)]),unitCostPrice:new t.NI(r?.unitCostPrice,[t.kI.required,t.kI.min(1)]),unitSellingPrice:new t.NI(r?.unitSellingPrice,[t.kI.required,t.kI.min(1)])}),this.menuService.closeAllMenu()}}ionViewDidLeave(){this.stockItemForm.reset(),this.menuService.contextRow=null}static#o=this.\u0275fac=function(e){return new(e||i)(o.Y36(l.kl),o.Y36(m.hl),o.Y36(k.T),o.Y36(p.t4))};static#t=this.\u0275cmp=o.Xpm({type:i,selectors:[["stock-edit"]],decls:30,vars:4,consts:[["color","primary"],["color","light",1,"app-title",3,"slot"],["icon","pen",1,"f:#f3f3f3","opacity:0.8"],["color","light",3,"slot"],["color","tertiary",1,"ion-padding"],[1,"p:15","flex","flex:column","gap:20","{flex;flex:column;gap:10}>div","{f:black}_label","{b:#0F85E9}>div>input",3,"formGroup"],[1,"text-center","text-decoration-underline","f:black","mt:30px"],["for",""],["type","text","wordCase","","case","capitalize","formControlName","itemName",1,"form-control"],["type","number","formControlName","quantity",1,"form-control"],["type","number","formControlName","unitCostPrice",1,"form-control"],["type","number","formControlName","unitSellingPrice",1,"form-control"],[1,"btn","btn-outline-primary","mt:10",3,"click"],["type","reset",1,"btn","btn-outline-warning","mt:10",3,"click"]],template:function(e,c){1&e&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o._UZ(3,"fa-icon",2),o._uU(4),o.qZA(),o._UZ(5,"ion-menu-button",3),o.qZA()(),o.TgZ(6,"ion-content",4)(7,"form",5)(8,"h2",6),o._uU(9,"Create/Edit Stock"),o.qZA(),o.TgZ(10,"div")(11,"label",7),o._uU(12,"Stock name:"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div")(15,"label",7),o._uU(16,"Stock quantity:"),o.qZA(),o._UZ(17,"input",9),o.qZA(),o.TgZ(18,"div")(19,"label",7),o._uU(20,"Cost price:"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div")(23,"label",7),o._uU(24,"Selling price:"),o.qZA(),o._UZ(25,"input",11),o.qZA(),o.TgZ(26,"button",12),o.NdJ("click",function(){return c.saveStock()}),o._uU(27,"Save"),o.qZA(),o.TgZ(28,"button",13),o.NdJ("click",function(){return c.stockItemForm.reset()}),o._uU(29,"Clear"),o.qZA()()()),2&e&&(o.xp6(2),o.Q6J("slot",c.platform.is("iphone")?"end":"start"),o.xp6(2),o.hij(" ","Create/Edit Stock"," "),o.xp6(1),o.Q6J("slot",c.platform.is("iphone")?"start":"end"),o.xp6(2),o.Q6J("formGroup",c.stockItemForm))},dependencies:[t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,y.j,a.W2,a.Gu,a.fG,a.wd,a.sr,v.BN],styles:["[_nghost-%COMP%]{--ion-color-primary: #1F5BBC;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #f3f3f3;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return i})()}];let S=(()=>{class i{static#o=this.\u0275fac=function(e){return new(e||i)};static#t=this.\u0275mod=o.oAB({type:i});static#n=this.\u0275inj=o.cJS({imports:[u.Bz.forChild(b),u.Bz]})}return i})();var I=n(4850);let Z=(()=>{class i{static#o=this.\u0275fac=function(e){return new(e||i)};static#t=this.\u0275mod=o.oAB({type:i});static#n=this.\u0275inj=o.cJS({imports:[I._o,S,l.gw,l.EV,m.HV]})}return i})()}}]);