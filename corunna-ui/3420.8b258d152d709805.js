"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[3420],{3420:(P,f,i)=>{i.r(f),i.d(f,{EarningsPageModule:()=>M});var u=i(4850),p=i(9595),Z=i(1038),A=i(5478),h=i(9063),n=i(4650),c=i(6895),g=i(4006),x=i(6297),a=i(8118),y=i(2216),m=i(9492);function D(e,l){if(1&e&&(n.TgZ(0,"swiper-slide",13)(1,"ion-title",14),n._uU(2),n.qZA(),n.TgZ(3,"div",15)(4,"section")(5,"h2"),n._uU(6),n.ALo(7,"number"),n.qZA(),n.TgZ(8,"label"),n._uU(9,"Sales Amount"),n.qZA()(),n.TgZ(10,"section")(11,"h2"),n._uU(12),n.ALo(13,"number"),n.qZA(),n.TgZ(14,"label"),n._uU(15,"Sales Profit"),n.qZA()()(),n.TgZ(16,"footer",16)(17,"div")(18,"label"),n._uU(19,"CASH"),n.qZA(),n.TgZ(20,"h3"),n._uU(21),n.ALo(22,"number"),n.qZA()(),n.TgZ(23,"div")(24,"label"),n._uU(25,"BANK"),n.qZA(),n.TgZ(26,"h3"),n._uU(27),n.ALo(28,"number"),n.qZA()()()()),2&e){const o=l.$implicit,t=n.oxw();n.xp6(2),n.Oqu(null==o?null:o._id),n.xp6(4),n.Oqu(n.lcZ(7,5,(null==o?null:o.saleAmount)||0)),n.xp6(6),n.Oqu(n.lcZ(13,7,(null==o?null:o.saleProfit)||0)),n.xp6(9),n.Oqu(n.lcZ(22,9,t.cashSale(t.saleByMethod(null==o?null:o._id,null==t.incomeData?null:t.incomeData.salesByPayMethod))||0)),n.xp6(6),n.Oqu(n.lcZ(28,11,t.bankSale(t.saleByMethod(null==o?null:o._id,null==t.incomeData?null:t.incomeData.salesByPayMethod))||0))}}function T(e,l){if(1&e&&(n.TgZ(0,"tr",21)(1,"td"),n._uU(2),n.ALo(3,"date"),n.qZA(),n.TgZ(4,"td",22),n._uU(5),n.ALo(6,"number"),n.qZA(),n.TgZ(7,"td",22),n._uU(8),n.ALo(9,"number"),n.qZA(),n.TgZ(10,"td",23),n._uU(11),n.ALo(12,"number"),n.qZA()()),2&e){const o=l.$implicit,t=n.oxw(2);n.xp6(2),n.Oqu(n.xi3(3,4,null==o._id?null:o._id.date,"MMM d")),n.xp6(3),n.Oqu(n.lcZ(6,7,t.cashSale(o)||0)),n.xp6(3),n.Oqu(n.lcZ(9,9,t.bankSale(o)||0)),n.xp6(3),n.Oqu(n.lcZ(12,11,(null==o?null:o.saleAmount)||0))}}function w(e,l){if(1&e&&(n.TgZ(0,"swiper-slide")(1,"table",17)(2,"caption",18),n._uU(3),n.qZA(),n.TgZ(4,"thead")(5,"tr")(6,"th"),n._uU(7,"DATE"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"CASH"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"BANK"),n.qZA(),n.TgZ(12,"th",19),n._uU(13,"TOTAL"),n.qZA()()(),n.TgZ(14,"tbody"),n.YNc(15,T,13,13,"tr",20),n.qZA()()()),2&e){const o=l.$implicit;n.xp6(3),n.hij(" ",o[0]||"SALES BY DATE"," "),n.xp6(12),n.Q6J("ngForOf",o[1])}}const b=function(){return{dateInputFormat:"DD/MM/YYYY",containerClass:"theme-blue",adaptivePosition:!0}},E=[{path:"",component:(()=>{class e{constructor(o){this.dashboardService=o,this.sDate=(0,Z.Z)(new Date,14),this.eDate=new Date,this.branchDateSale=[]}getIncomeData(){this.dashboardService.getIncome(this.sDate,this.eDate).subscribe(o=>{this.incomeData=o,this.incomeData.salesAndProfit=(0,h.v4)(this.incomeData?.salesAndProfit,"_id");const t=o?.salesByDate;this.branchDateSale=Object.entries((0,h.Cf)(t,"_id","shopBranch"))})}ionViewDidEnter(){this.getIncomeData()}saleByMethod(o,t){return t.find(s=>s._id==o)}cashSale(o){return o?.cash?.find(r=>r)}bankSale(o){return o?.bank?.find(r=>r)}static#n=this.\u0275fac=function(t){return new(t||e)(n.Y36(A.s))};static#o=this.\u0275cmp=n.Xpm({type:e,selectors:[["healmah-earnings"]],decls:17,vars:13,consts:[["color","primary"],["slot","start"],["color","light","defaultHref","super"],["slot","start","color","light"],[1,"ion-padding"],[1,"flex","gap:10"],["type","text","bsDatepicker","","container","body",1,"form-control","text-center","shadow:none!","b:1|solid|#E27B4E!",3,"bsConfig","ngModel","ngModelChange"],[1,"btn","bg:#E27B4E!",3,"click"],["icon","search",1,"f:white!"],["effect","cube",1,"w:100%","r:5px","rb:20","mt:20","pb:10","$swiper-pagination-color:red!","$swiper-pagination-bottom:-1px!","bg:linear-gradient(#E27B4E,#FADAC4);","shadow:0|2px|4px|rgba(0,0,0,0.1)",3,"loop","pagination","slidesPerView"],["class","\n        min-h:100%  p:10 b:red! f:white! f:1.1rem d:flex! flex-direction:column gap:10!\n        {text-align:center}>h2 {flex:1;r:12px}>div\n      ",4,"ngFor","ngForOf"],["slides-per-view","1",1,"mt:20","pt:10px","$swiper-pagination-bottom:initial!","$swiper-pagination-top:-5px!","$swiper-pagination-color:black!",3,"pagination","loop"],[4,"ngFor","ngForOf"],[1,"min-h:100%","p:10","b:red!","f:white!","f:1.1rem","d:flex!","flex-direction:column","gap:10!","{text-align:center}>h2","{flex:1;r:12px}>div"],[1,"text-align:center!","f:1.2rem!"],[1,"flex","gap:15","f:#E27B4E","text-align:center!","{flex:1;bg:#FADAC4;h:100%;r:12px;d:flex;flex-direction:column;jc:center;p:5}>section","{opacity:0.9;f:monospace;f:0.8rem;f:black}>section>label","{f:bold;f:1.2rem}>section>h2"],[1,"mt:10","r:5","rb:20","flex:1!","flex","{flex:1}>div","ai:center","py:5","text-align:center!","bg:rgba(226,123,78,0.4)"],[1,"table","table-striped"],["align","top",2,"caption-side","top","text-align","center"],[2,"text-align","right"],["style","text-align: left; padding: 10px 0; border-bottom: 1px solid lightblue;",4,"ngFor","ngForOf"],[2,"text-align","left","padding","10px 0","border-bottom","1px solid lightblue"],["currency",""],["currency","",2,"text-align","right"]],template:function(t,r){1&t&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title",3),n._uU(5,"Earnings"),n.qZA()()(),n.TgZ(6,"ion-content",4)(7,"header",5)(8,"input",6),n.NdJ("ngModelChange",function(d){return r.sDate=d}),n.qZA(),n.TgZ(9,"input",6),n.NdJ("ngModelChange",function(d){return r.eDate=d}),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return r.getIncomeData()}),n._UZ(11,"fa-icon",8),n.qZA()(),n.TgZ(12,"main")(13,"swiper-container",9),n.YNc(14,D,29,13,"swiper-slide",10),n.qZA(),n.TgZ(15,"swiper-container",11),n.YNc(16,w,16,2,"swiper-slide",12),n.qZA()()()),2&t&&(n.xp6(8),n.Q6J("bsConfig",n.DdM(11,b))("ngModel",r.sDate),n.xp6(1),n.Q6J("bsConfig",n.DdM(12,b))("ngModel",r.eDate),n.xp6(4),n.Q6J("loop",!1)("pagination",!0)("slidesPerView",1),n.xp6(1),n.Q6J("ngForOf",null==r.incomeData?null:r.incomeData.salesAndProfit),n.xp6(1),n.Q6J("pagination",!0)("loop",!0),n.xp6(1),n.Q6J("ngForOf",r.branchDateSale))},dependencies:[c.sg,g.Fj,g.JJ,g.On,x.Sf,a.Sm,a.W2,a.Gu,a.wd,a.sr,a.oU,y.BN,m.Np,m.Y5,c.JJ,c.uU],styles:["[_nghost-%COMP%]{--ion-color-primary: #EA6D35;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #1A2031;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #F4E9E9;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #f3f3f3;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return e})()}];let v=(()=>{class e{static#n=this.\u0275fac=function(t){return new(t||e)};static#o=this.\u0275mod=n.oAB({type:e});static#t=this.\u0275inj=n.cJS({imports:[p.Bz.forChild(E),p.Bz]})}return e})(),M=(()=>{class e{static#n=this.\u0275fac=function(t){return new(t||e)};static#o=this.\u0275mod=n.oAB({type:e});static#t=this.\u0275inj=n.cJS({imports:[u._o,u.Nu,v]})}return e})()}}]);