"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[9514],{9514:(T,p,s)=>{s.r(p),s.d(p,{SettingsPageModule:()=>R});var h=s(9595),o=s(4650),i=s(8118);let x=(()=>{class e{constructor(){}ngOnDestroy(){}static#o=this.\u0275fac=function(r){return new(r||e)};static#n=this.\u0275cmp=o.Xpm({type:e,selectors:[["healmah-settings"]],decls:10,vars:0,consts:[["slot","bottom"],["slot","bottom","mode","md",1,"shadow:0|0|2|rgba(0,0,0,0.3)!"],["tab","shop-branch"],["name","flash"],["tab","accounts"],["name","apps"]],template:function(r,c){1&r&&(o.TgZ(0,"ion-tabs",0)(1,"ion-tab-bar",1)(2,"ion-tab-button",2),o._UZ(3,"ion-icon",3),o.TgZ(4,"ion-label"),o._uU(5,"Shop Branch"),o.qZA()(),o.TgZ(6,"ion-tab-button",4),o._UZ(7,"ion-icon",5),o.TgZ(8,"ion-label"),o._uU(9,"User Accounts"),o.qZA()()()())},dependencies:[i.gu,i.Q$,i.yq,i.ZU,i.UN],styles:["[_nghost-%COMP%]{--ion-color-primary: #EA6D35;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #1A2031;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #F4E9E9;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #f3f3f3;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return e})();var f=s(5861),A=s(4715),t=s(4006),b=s(4850),g=s(9063),_=s(5115),u=s(2958),y=s(9808),S=s(1224),Z=s(6895),w=s(6726),C=s(2216),k=s(6082);function B(e,d){1&e&&o._UZ(0,"fa-icon",19)}function U(e,d){1&e&&o._UZ(0,"fa-icon",20)}function F(e,d){if(1&e){const n=o.EpF();o.TgZ(0,"aside",21)(1,"fa-icon",22),o.NdJ("click",function(){o.CHM(n);const c=o.oxw().$implicit,a=o.oxw();return o.KtG(a.editAccount(c))}),o.qZA(),o.TgZ(2,"fa-icon",23),o.NdJ("click",function(){o.CHM(n);const c=o.oxw().$implicit,a=o.oxw();return o.KtG(a.deleteAccount(c))}),o.qZA()()}}function q(e,d){if(1&e&&(o.TgZ(0,"li",13),o.YNc(1,B,1,0,"fa-icon",14),o.YNc(2,U,1,0,"fa-icon",15),o.TgZ(3,"section",16)(4,"h5"),o._uU(5),o.qZA(),o.TgZ(6,"label",17),o._uU(7),o.qZA()(),o.YNc(8,F,3,0,"aside",18),o.qZA()),2&e){const n=d.$implicit;o.xp6(1),o.Q6J("ngIf","Super"==n.acctType),o.xp6(1),o.Q6J("ngIf","Standard"==n.acctType),o.xp6(3),o.AsE(" ",n.firstName," ",n.surName," "),o.xp6(2),o.Oqu(n.email),o.xp6(1),o.Q6J("ngIf","ibnadam.net@gmail.com"!==n.email)}}function I(e,d){if(1&e&&(o.TgZ(0,"option",43),o._uU(1),o.qZA()),2&e){const n=d.$implicit;o.Q6J("value",n.branchName),o.xp6(1),o.Oqu(null==n?null:n.branchName)}}function M(e,d){if(1&e){const n=o.EpF();o.TgZ(0,"ion-header",24)(1,"ion-toolbar",25)(2,"h3",26),o._uU(3," Create/Edit "),o.qZA()()(),o.TgZ(4,"ion-content",27)(5,"form",28)(6,"div")(7,"ion-label"),o._uU(8,"Surname:"),o.qZA(),o._UZ(9,"input",29),o.qZA(),o.TgZ(10,"div")(11,"ion-label"),o._uU(12,"Firstname:"),o.qZA(),o._UZ(13,"input",30),o.qZA(),o.TgZ(14,"div",31)(15,"div")(16,"ion-label"),o._uU(17,"Username:"),o.qZA(),o._UZ(18,"input",32),o.qZA(),o.TgZ(19,"div")(20,"ion-label"),o._uU(21,"Password:"),o.qZA(),o._UZ(22,"input",33),o.qZA()(),o.TgZ(23,"div",31)(24,"div")(25,"ion-label"),o._uU(26,"Shop Branch:"),o.qZA(),o.TgZ(27,"select",34),o._UZ(28,"option"),o.YNc(29,I,2,2,"option",35),o.qZA()(),o.TgZ(30,"div")(31,"ion-label"),o._uU(32,"Account Type:"),o.qZA(),o.TgZ(33,"select",36),o._UZ(34,"option"),o.TgZ(35,"option"),o._uU(36,"Super"),o.qZA(),o.TgZ(37,"option"),o._uU(38,"Standard"),o.qZA()()()(),o.TgZ(39,"div")(40,"ion-label"),o._uU(41,"Email:"),o.qZA(),o._UZ(42,"input",37),o.qZA(),o.TgZ(43,"div")(44,"ion-label"),o._uU(45,"Profile Image:"),o.qZA(),o._UZ(46,"input",38,39),o.qZA(),o.TgZ(48,"div",40)(49,"ion-button",41),o.NdJ("handle",function(c){o.CHM(n);const a=o.MAs(47),l=o.oxw();return o.KtG(l.apiResponse(c,a))}),o._uU(50," Save "),o.qZA(),o.TgZ(51,"ion-button",42),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.accountForm.reset())}),o._uU(52," Reset "),o.qZA()()()()}if(2&e){const n=o.oxw();o.xp6(5),o.Q6J("formGroup",n.accountForm),o.xp6(24),o.Q6J("ngForOf",n.shopBranches),o.xp6(20),o.Q6J("handler",n.handler)}}const D=function(){return[0,.8,.9]};let J=(()=>{class e{constructor(n,r,c,a,l,m){this.userAccountService=n,this.healmahDialogService=r,this.healmahLocalStorageService=c,this.dialogService=a,this.router=l,this.settingsService=m,this.userAccounts=[],this.shopBranches=[],this.handler=()=>this.accountForm.invalid?(u.F.show({text:g.xR.invalidForm,duration:"long",position:"bottom"}),Promise.resolve()):this.userAccountService.saveAccount(this.accountForm.value),this.accountForm=new t.cw({surName:new t.NI(null,t.kI.required),firstName:new t.NI(null,t.kI.required),userName:new t.NI(null,t.kI.required),email:new t.NI(null),passWord:new t.NI(null,t.kI.required),shopBranch:new t.NI(null,t.kI.required),acctType:new t.NI(null,t.kI.required)}),this.getUserAccounts()}ngOnInit(){this.router.events.subscribe(n=>{n instanceof h.OD&&"popstate"==n.navigationTrigger&&"/super"!==n.url&&this.router.navigateByUrl("dvt/super")}),this.staff=JSON.parse(this.healmahLocalStorageService.get("staff-profile")||"{}")}ngOnDestroy(){this.modal?.dismiss(),history.state.accountModal&&history.back()}ionViewDidEnter(){this.settingsService.getShopBranches().subscribe(n=>{this.shopBranches=n}),this.modal?.didPresent.subscribe(()=>{const n={accountModal:!0,desc:"fake state for our modal"};history.state.accountModal?history.replaceState(n,null):history.pushState(n,null)})}closeModal(){this.modal?.dismiss()}getUserAccounts(){this.userAccountService.getAccounts().subscribe(n=>{this.userAccounts=n})}apiResponse(n,r){var c=this;return(0,f.Z)(function*(){if(!Array.isArray(n))return;const a=n?.find(m=>m?.userName==c.accountForm.get("userName")?.value);let l;try{l=yield(0,y.n)(r.fileService.uploadDbFile(r.file,{id:a?._id,oldRef:a?.avatar,path:g.zj.setting},g.Qb.uploadDbFile)||Promise.resolve())}catch{}("DONE"==l?.state&&a||!l?.state&&a)&&u.F.show({duration:"long",text:g.kt.formSaved,position:"bottom"}),c.accountForm.reset(),c.getUserAccounts()})()}editAccount(n){var r=this;return(0,f.Z)(function*(){r.accountForm=new t.cw({_id:new t.NI(n?._id),surName:new t.NI(n?.surName,t.kI.required),firstName:new t.NI(n?.firstName,t.kI.required),userName:new t.NI(n?.userName,t.kI.required),email:new t.NI(n?.email),passWord:new t.NI("",t.kI.required),shopBranch:new t.NI(n?.shopBranch?.branchName,t.kI.required),acctType:new t.NI(n?.acctType,t.kI.required)}),yield r.modal?.present(),r.modal?.onDidDismiss().then(()=>{history.state.accountModal&&history.back(),r.accountForm.reset()})})()}deleteAccount(n){var r=this;return(0,f.Z)(function*(){(yield(0,y.n)(r.dialogService.openConfirmDialog({message:"Are you sure to delete this account?",title:"Action Confirmation"})))&&r.userAccountService.deleteAccount(n?._id+"").subscribe(a=>{Array.isArray(a)&&(r.getUserAccounts(),u.F.show({text:"Data "+g.kt.itemDeleted,duration:"long",position:"top"}))})})()}static#o=this.\u0275fac=function(r){return new(r||e)(o.Y36(S.N),o.Y36(_.kl),o.Y36(b.n2),o.Y36(_.xA),o.Y36(h.F0),o.Y36(A.g))};static#n=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-accounts"]],viewQuery:function(r,c){if(1&r&&o.Gf(i.ki,5),2&r){let a;o.iGM(a=o.CRH())&&(c.modal=a.first)}},hostBindings:function(r,c){1&r&&o.NdJ("popstate",function(l){return c.closeModal(l)},!1,o.Jf7)},decls:17,vars:4,consts:[["color","primary"],["slot","start"],["color","light","defaultHref","super"],["slot","start","color","light"],[1,"ion-padding"],[1,"text-center"],[1,"f:black","p:0!","flex","flex:column","gap:10","mt:20","{flex;gap:10;bb:0.2px|solid|rgba(0,0,0,0.2);p:10;r:10}>li"],["class","shadow:0|0|2|rgba(0,0,0,0.3)",4,"ngFor","ngForOf"],["trigger","open-account-modal","sheetModal","","handleBehavior","cycle",3,"initialBreakpoint","breakpoints"],["modal",""],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","id","open-account-modal"],["name","create-outline"],[1,"shadow:0|0|2|rgba(0,0,0,0.3)"],["icon","user-tie","class","flex ai:center f:30px f:#0F85E9 r:5 p:10 b:1|solid|blue",4,"ngIf"],["icon","user-circle","class","flex ai:center f:30px f:#0F85E9 r:5 p:10 b:1|solid|blue",4,"ngIf"],[1,"flex:1;"],[1,"block","opacity-50","text-align:right","f:1rem"],["class","flex flex:column jc:space-between",4,"ngIf"],["icon","user-tie",1,"flex","ai:center","f:30px","f:#0F85E9","r:5","p:10","b:1|solid|blue"],["icon","user-circle",1,"flex","ai:center","f:30px","f:#0F85E9","r:5","p:10","b:1|solid|blue"],[1,"flex","flex:column","jc:space-between"],["icon","edit",1,"text-primary",3,"click"],["icon","trash-alt",1,"text-danger",3,"click"],[1,"ion-no-border"],["color","tertiary"],[1,"flex","jc:center","px:20","f:black!"],[1,"ion-padding","pt:0!"],[1,"container","d-flex","flex-column","gap:12px",3,"formGroup"],["type","text","formControlName","surName",1,"form-control","shadow-none"],["type","text","formControlName","firstName",1,"form-control","shadow-none"],[1,"flex","gap:5","{flex:1}>div"],["type","text","formControlName","userName",1,"form-control","shadow-none"],["type","password","formControlName","passWord",1,"form-control","shadow-none"],["formControlName","shopBranch",1,"form-control","form-select","shadow-none"],[3,"value",4,"ngFor","ngForOf"],["formControlName","acctType",1,"form-control","form-select","shadow-none"],["type","text","formControlName","email",1,"form-control","shadow-none"],["type","file","name","file","fileUpload","","accept","image/x-png,image/jpeg,image/jpg",1,"form-control","shadow-none"],["uploadDir","uploadDir"],[1,"d-flex","gap-2"],["btnDisabler","","expand","block","fill","solid","shape","round",1,"w-100",3,"handler","handle"],["expand","block","color","warning","fill","solid","shape","round",1,"w-100",3,"click"],[3,"value"]],template:function(r,c){1&r&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),o._UZ(3,"ion-back-button",2),o.qZA(),o.TgZ(4,"ion-title",3),o._uU(5,"Accounts"),o.qZA()()(),o.TgZ(6,"ion-content",4)(7,"h2",5),o._uU(8,"User Accounts"),o.qZA(),o.TgZ(9,"ul",6),o.YNc(10,q,9,6,"li",7),o.qZA(),o.TgZ(11,"ion-modal",8,9),o.YNc(13,M,53,3,"ng-template"),o.qZA(),o.TgZ(14,"ion-fab",10)(15,"ion-fab-button",11),o._UZ(16,"ion-icon",12),o.qZA()()()),2&r&&(o.xp6(10),o.Q6J("ngForOf",c.userAccounts),o.xp6(1),o.Q6J("initialBreakpoint",.8)("breakpoints",o.DdM(3,D)))},dependencies:[Z.sg,Z.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.sg,t.u,w.h,i.YG,i.Sm,i.W2,i.IJ,i.W4,i.Gu,i.gu,i.Q$,i.wd,i.sr,i.ki,i.oU,C.BN,k.p],styles:["[_nghost-%COMP%]{--ion-color-primary: #EA6D35;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #1A2031;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #F4E9E9;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #f3f3f3;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return e})();var N=s(4201),E=s(5694);const O=function(e){return{rowData:e}};function P(e,d){if(1&e){const n=o.EpF();o.TgZ(0,"ion-col",13)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-subtitle",14)(4,"ion-label"),o._uU(5),o.qZA(),o.TgZ(6,"ion-label",15)(7,"fa-icon",16),o.NdJ("click",function(){const a=o.CHM(n).$implicit,l=o.oxw();return o.KtG(l.editBranch(a))}),o.qZA(),o.TgZ(8,"fa-icon",17),o.NdJ("click",function(){const a=o.CHM(n).$implicit,l=o.oxw();return o.KtG(l.deleteBranch(a))}),o.qZA()()(),o.TgZ(9,"ion-card-title"),o._uU(10),o.qZA()(),o.TgZ(11,"ion-card-content"),o._uU(12),o.qZA()()()}if(2&e){const n=d.$implicit,r=o.oxw();o.Q6J("ownContextMenu",r.menu)("contextRow",o.VKq(5,O,n)),o.xp6(5),o.hij(" ",null==n?null:n.branchContact,""),o.xp6(5),o.Oqu(n.branchName),o.xp6(2),o.hij(" ",null==n?null:n.branchLocation," ")}}function Y(e,d){if(1&e){const n=o.EpF();o.TgZ(0,"ion-header",18)(1,"ion-toolbar",19)(2,"h3",20),o._uU(3," Create/Edit "),o.qZA()()(),o.TgZ(4,"ion-content",21)(5,"form",22)(6,"section",23)(7,"div")(8,"label"),o._uU(9,"Branch Name:"),o.qZA(),o._UZ(10,"input",24),o.qZA(),o.TgZ(11,"div")(12,"label"),o._uU(13,"Branch Location:"),o.qZA(),o._UZ(14,"input",25),o.qZA(),o.TgZ(15,"div")(16,"label"),o._uU(17,"Branch Contact:"),o.qZA(),o._UZ(18,"input",26),o.qZA(),o.TgZ(19,"div",27)(20,"ion-button",28),o.NdJ("handle",function(c){o.CHM(n);const a=o.oxw();return o.KtG(a.saveResult(c))}),o._uU(21," Save "),o.qZA(),o.TgZ(22,"ion-button",29),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.shopBranchForm.reset())}),o._uU(23," Reset "),o.qZA()()()()()}if(2&e){const n=o.oxw();o.xp6(5),o.Q6J("formGroup",n.shopBranchForm),o.xp6(15),o.Q6J("handler",n.handler)}}const Q=function(){return[0,.55,.65]},G=[{path:"",component:x,children:[{path:"shop-branch",component:(()=>{class e{constructor(n,r,c,a){var m,l=this;this.router=n,this.settingsService=r,this.dialogService=c,this.menuService=a,this.shopBranches=[],this.menu=[{name:"Set Default",clickAction:(m=(0,f.Z)(function*(){(yield(0,y.n)(l.dialogService.openConfirmDialog({message:"Are you sure to migrate and asign all existing purchases, stock items and sales to this SHOP BRANCH?\n This action should only be done once!",title:"Action Confirmation"})))&&l.settingsService.assignToShop(l.menuService.contextRow.rowData?._id).subscribe(v=>{console.log(v),3==Object.entries(v).length?Object.values(v).every(L=>L.modifiedCount>0)&&u.F.show({text:"All migrations successfully DONE!",duration:"long"}):u.F.show({text:"Migrations not done successfully.",duration:"long"})})}),function(){return m.apply(this,arguments)})}],this.handler=m=>this.shopBranchForm.invalid?(u.F.show({text:g.xR.invalidForm,duration:"long",position:"bottom"}),Promise.resolve()):this.settingsService.saveShopBranch(this.shopBranchForm.value),this.shopBranchForm=new t.cw({branchName:new t.NI(null,t.kI.required),branchLocation:new t.NI(null),branchContact:new t.NI(null)})}ngOnDestroy(){this.modal?.dismiss(),history.state.branchModal&&history.back()}closeModal(){this.modal?.dismiss()}ngOnInit(){this.router.events.subscribe(n=>{n instanceof h.OD&&"popstate"==n.navigationTrigger&&"/super"!==n.url&&this.router.navigateByUrl("dvt/super")}),this.getShopBranches()}ionViewDidEnter(){this.modal?.didPresent.subscribe(()=>{const n={branchModal:!0,desc:"fake state for our modal"};history.state.branchModal?history.replaceState(n,null):history.pushState(n,null)})}getShopBranches(){this.settingsService.getShopBranches().subscribe(n=>{this.shopBranches=n})}editBranch(n){this.shopBranchForm=new t.cw({_id:new t.NI(n?._id,t.kI.required),branchName:new t.NI(n?.branchName,t.kI.required),branchLocation:new t.NI(n?.branchLocation),branchContact:new t.NI(n?.branchContact)}),this.modal.present(),this.modal?.onDidDismiss().then(()=>{history.state.branchModal&&history.back(),this.shopBranchForm.reset()})}deleteBranch(n){var r=this;return(0,f.Z)(function*(){(yield(0,y.n)(r.dialogService.openConfirmDialog({title:"Action Confirmation",message:"Are you sure to delete this?"})))&&r.settingsService.deleteShopBranch(n?._id).subscribe(function(){var a=(0,f.Z)(function*(l){n?._id&&(r.getShopBranches(),yield u.F.show({text:"Data "+g.kt.itemDeleted,duration:"long",position:"top"}))});return function(l){return a.apply(this,arguments)}}())})()}saveResult(n){var r=this;return(0,f.Z)(function*(){n?._id&&(yield u.F.show({text:"Settings saved successfully",duration:"long",position:"top"}),r.settingsService.serviceToPrint=n,r.shopBranchForm.reset(),r.getShopBranches())})()}static#o=this.\u0275fac=function(r){return new(r||e)(o.Y36(h.F0),o.Y36(A.g),o.Y36(_.xA),o.Y36(N.hl))};static#n=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-configs"]],viewQuery:function(r,c){if(1&r&&o.Gf(i.ki,7),2&r){let a;o.iGM(a=o.CRH())&&(c.modal=a.first)}},hostBindings:function(r,c){1&r&&o.NdJ("popstate",function(l){return c.closeModal(l)},!1,o.Jf7)},decls:18,vars:5,consts:[["color","primary"],["slot","start"],["color","light","defaultHref","super"],["slot","start","color","light"],[1,"ion-padding-top"],[1,"text-center"],[3,"fixed"],["size","12",3,"ownContextMenu","contextRow",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","start","slot","fixed"],["color","primary","id","open-branch-modal"],["name","create-outline"],["trigger","open-branch-modal","sheetModal","","handleBehavior","cycle",3,"initialBreakpoint","breakpoints"],["modal",""],["size","12",3,"ownContextMenu","contextRow"],[1,"flex","jc:space-between"],[1,"d:flex","gap:20"],["icon","edit",1,"text-primary",3,"click"],["icon","trash-alt",1,"text-danger",3,"click"],[1,"ion-no-border"],["color","tertiary"],[1,"flex","jc:center","px:20","f:black!"],[1,"ion-padding"],[3,"formGroup"],[1,"flex","flex:column","gap:15"],["formControlName","branchName",1,"form-control"],["formControlName","branchLocation",1,"form-control"],["formControlName","branchContact",1,"form-control"],[1,"flex","gap:20","mt:20","{flex:1}>.btn"],["btnDisabler","","expand","block","fill","solid","shape","round",1,"w-100",3,"handler","handle"],["expand","block","color","warning","fill","solid","shape","round",1,"w-100",3,"click"]],template:function(r,c){1&r&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),o._UZ(3,"ion-back-button",2),o.qZA(),o.TgZ(4,"ion-title",3),o._uU(5,"Shop Branch"),o.qZA()()(),o.TgZ(6,"ion-content",4)(7,"h2",5),o._uU(8,"Branch List"),o.qZA(),o.TgZ(9,"ion-grid",6)(10,"ion-row"),o.YNc(11,P,13,7,"ion-col",7),o.qZA()(),o.TgZ(12,"ion-fab",8)(13,"ion-fab-button",9),o._UZ(14,"ion-icon",10),o.qZA()(),o.TgZ(15,"ion-modal",11,12),o.YNc(17,Y,24,2,"ng-template"),o.qZA()()),2&r&&(o.xp6(9),o.Q6J("fixed",!0),o.xp6(2),o.Q6J("ngForOf",c.shopBranches),o.xp6(4),o.Q6J("initialBreakpoint",.55)("breakpoints",o.DdM(4,Q)))},dependencies:[Z.sg,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,w.h,i.YG,i.Sm,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.wI,i.W2,i.IJ,i.W4,i.jY,i.Gu,i.gu,i.Q$,i.Nd,i.wd,i.sr,i.ki,i.oU,C.BN,E.l],styles:["[_nghost-%COMP%]{--ion-color-primary: #EA6D35;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #1A2031;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #F4E9E9;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #f3f3f3;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}"]})}return e})()},{path:"accounts",component:J},{path:"",redirectTo:"shop-branch",pathMatch:"full"}]}];let H=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#n=this.\u0275mod=o.oAB({type:e});static#t=this.\u0275inj=o.cJS({imports:[h.Bz.forChild(G),h.Bz]})}return e})(),R=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#n=this.\u0275mod=o.oAB({type:e});static#t=this.\u0275inj=o.cJS({imports:[b._o,_.gw,H,N.HV]})}return e})()},4715:(T,p,s)=>{s.d(p,{g:()=>x});var h=s(4850),o=s(9063),i=s(4650);let x=(()=>{class f extends h.q2{constructor(){super(o.ih.Setting,"dvt",!0)}saveShopBranch(t){return this.post({endPoint:[o.yv.settingsStore,o.yv.shopBranch],payload:t})}assignToShop(t){return this.put({endPoint:[o.yv.settingsStore,o.yv.shopBranch],payload:t})}getShopBranches(){return this.get({endPoint:[o.wm.settingsQuery,o.wm.shopBranch]})}deleteShopBranch(t){return this.delete({payload:t,endPoint:[o.yv.settingsStore,o.yv.shopBranch]})}static#o=this.\u0275fac=function(b){return new(b||f)};static#n=this.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()}}]);