"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[4557],{2039:(C,c,e)=>{e.d(c,{c:()=>g});var f=e(4850),r=e(9063),d=e(4650);let g=(()=>{class a extends f.q2{constructor(){super(r.ih.Setting,"cpt",!0),this.getSystemConfig().subscribe(s=>{this.systemConfig=s})}getDeleted(s,u,v){return this.get({endPoint:[r.wm.settingsQuery],params:[{k:"type",v:s},{k:"sDate",v:JSON.stringify(u)},{k:"eDate",v:JSON.stringify(v)}]})}saveSystemConfig(s){return this.post({payload:s,endPoint:[r.yv.settingsStore,r.yv.saveSettings]})}getSystemConfig(){return this.get({endPoint:[r.wm.settingsQuery,r.wm.getSettings]})}static#t=this.\u0275fac=function(u){return new(u||a)};static#e=this.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},4557:(C,c,e)=>{e.r(c),e.d(c,{StaffPageModule:()=>T});var f=e(5115),r=e(9595),d=e(5861),g=e(2958),a=e(1067),Z=e(8115),s=e(895),u=e(5119),v=e(8033),D=e(9207),O=e(2039),t=e(4650),b=e(8398),h=e(4006),m=e(8118),S=e(2216),p=e(9492),y=e(2879),P=e(6895);const _=function(){return{dateInputFormat:"DD/MM/YYYY",containerClass:"theme-blue",adaptivePosition:!0}},A=[{path:"",component:(()=>{class l{constructor(o,n,i,E,M){this.router=o,this.localStorageService=n,this.servicesServices=i,this.dashbaorderServcieService=E,this.systemConfigService=M,this.sDate=new Date,this.eDate=new Date,this.columns=[{field:"invoiceId",header:"ID"},{field:"serviceName",header:"SERVICE"},{field:"serviceCost",header:"COST"},{field:"serviceCommission",header:"%"},{field:"commissionAmount",header:"COM"},{field:"numOfTimes",header:"X"},{field:"time",header:"TIME"}]}ngOnInit(){var o=this;return(0,d.Z)(function*(){yield g.F.show({text:"Welcome back, dear User!",duration:"long",position:"top"}),o.systemConfigService.getSystemConfig().subscribe(n=>{o.settings=n,"Daily"==o.settings.commissionRange&&(o.sDate=(0,Z.Z)(new Date)),"Weekly"==o.settings.commissionRange&&(o.sDate=(0,s.Z)(new Date)),"Monthly"==o.settings.commissionRange&&(o.sDate=(0,u.Z)(new Date))})})()}ionViewDidEnter(){var o=this;return(0,d.Z)(function*(){o.staff=JSON.parse(o.localStorageService.get("staff-profile")||"{}"),o.staff?._id?o.getServiceHistory():o.router.navigateByUrl("")})()}getServiceHistory(){this.dashbaorderServcieService.getDashboardServices(this.sDate,this.eDate,this.staff?._id).subscribe(o=>{this.serviceHistory=o,this.serviceHistory.services=this.serviceHistory?.services.map(n=>({invoiceId:n?.invoiceId,serviceName:n?.serviceName,serviceCost:n?.serviceCost,commissionAmount:n?.commissionAmount,serviceCommission:n?.serviceCommission,renderedBy:n?.renderedBy,createdAt:n?.createdAt,registeredBy:n?.registeredBy,numOfTimes:n?.numOfTimes,staff:n?.renderedBy?.firstName,recordedBy:n?.registeredBy,time:(0,v.Z)(new Date(n?.createdAt),"h:ma")}))})}static#t=this.\u0275fac=function(n){return new(n||l)(t.Y36(r.F0),t.Y36(b.n),t.Y36(a.r),t.Y36(D.D),t.Y36(O.c))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["healmah-staff"]],decls:29,vars:14,consts:[[1,"ion-no-border","ion-no-padding","bg:#333B46!"],[1,"h:25vh!","rb:35px!","shadow:0|2|1|rgba(0,0,0,0.1)"],[1,"height:10vh","w:100%","flex","jc:space-between","ai:center","p:10px|10px"],[1,"content"],["color","warning","routerLink","","slot","start","name","lock-closed-outline",1,"f:25px"],[1,"flex","ai:center","jc:space-between","mt:30px","px:10px","pl:20px!","f:white"],["icon","user-circle",1,"f:blue","f:40px"],["color","primary",1,"ion-padding-top"],[1,"flex","gap:5","p:10","{b:#0F85E9!;bg:transparent;f:white}_input"],["type","text","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],[1,"btn","btn-outline-primary","bg:#0F85E9",3,"click"],["icon","search"],[1,"p:10","rel"],[1,"w:150px","h:150px","r:50%","abs","bottom:-10","right:-20px","z:-1","blur(120px)"],[1,"p:10","f:white!","rt:10","flex","gap:10","jc:space-around","bg:transparent","shadow:0|-3px|2px|rgba(255,255,255,0.1);","{text-align:center}"],[1,"p:4"],[3,"columns","data","rowsPerPage"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"div",3)(4,"h2"),t._uU(5,"HAIR SALON"),t.qZA(),t.TgZ(6,"h4"),t._uU(7,"Bristol Hair Capitol"),t.qZA()(),t._UZ(8,"ion-icon",4),t.qZA(),t.TgZ(9,"div",5)(10,"label"),t._uU(11),t.qZA(),t._UZ(12,"fa-icon",6),t.qZA()()(),t.TgZ(13,"ion-content",7)(14,"div",8)(15,"input",9),t.NdJ("ngModelChange",function(M){return i.sDate=M}),t.qZA(),t.TgZ(16,"input",9),t.NdJ("ngModelChange",function(M){return i.eDate=M}),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return i.getServiceHistory()}),t._UZ(18,"fa-icon",11),t.qZA()(),t.TgZ(19,"header",12),t._UZ(20,"div",13),t.TgZ(21,"div",14)(22,"section")(23,"h1"),t._uU(24),t.ALo(25,"number"),t.qZA(),t._uU(26," Total Commissions "),t.qZA()()(),t.TgZ(27,"main",15),t._UZ(28,"prime-table",16),t.qZA()()),2&n&&(t.xp6(11),t.AsE(" ",null==i.staff?null:i.staff.firstName," ",null==i.staff?null:i.staff.surName," "),t.xp6(4),t.Q6J("ngModel",i.sDate)("bsConfig",t.DdM(12,_)),t.xp6(1),t.Q6J("ngModel",i.eDate)("bsConfig",t.DdM(13,_)),t.xp6(8),t.hij(" ",t.lcZ(25,10,null==i.serviceHistory||null==i.serviceHistory.main?null:i.serviceHistory.main.commissionAmount)," "),t.xp6(4),t.Q6J("columns",i.columns)("data",null==i.serviceHistory?null:i.serviceHistory.services)("rowsPerPage",10))},dependencies:[h.Fj,h.JJ,h.On,r.rH,m.W2,m.Gu,m.gu,m.sr,m.YI,S.BN,p.Np,p.Y5,y.I,P.JJ],styles:["[_nghost-%COMP%]{--ion-color-primary: #333B46;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #333B46;--ion-color-primary-tint: #333B46;--ion-color-secondary: #1F2630;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #1F2630;--ion-color-secondary-tint: #1F2630;--ion-color-tertiary: #f3f3f3;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:900;font-family:monospace;letter-spacing:2px;font-size:2rem;margin:0}.content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{background:linear-gradient(90deg,#E38739 0%,#2dd36f 20%,#FF3AF3 50%,#2dd36f 70%);background-clip:text;-webkit-background-clip:text;color:transparent!important}ion-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077);background-size:20px 35px;background-position:0 0,0 0,10px 18px,10px 18px,0 0,10px 18px}"]})}return l})()}];let F=(()=>{class l{static#t=this.\u0275fac=function(n){return new(n||l)};static#e=this.\u0275mod=t.oAB({type:l});static#n=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(A),r.Bz]})}return l})();var x=e(4850);let T=(()=>{class l{static#t=this.\u0275fac=function(n){return new(n||l)};static#e=this.\u0275mod=t.oAB({type:l});static#n=this.\u0275inj=t.cJS({imports:[x._o,x.Nu,f.gw,F]})}return l})()},8115:(C,c,e)=>{e.d(c,{Z:()=>d});var f=e(953),r=e(833);function d(g){(0,r.Z)(1,arguments);var a=(0,f.Z)(g);return a.setHours(0,0,0,0),a}},5119:(C,c,e)=>{e.d(c,{Z:()=>d});var f=e(953),r=e(833);function d(g){(0,r.Z)(1,arguments);var a=(0,f.Z)(g);return a.setDate(1),a.setHours(0,0,0,0),a}},895:(C,c,e)=>{e.d(c,{Z:()=>a});var f=e(953),r=e(1998),d=e(833),g=e(8370);function a(Z,s){var u,v,D,O,t,b,h,m;(0,d.Z)(1,arguments);var S=(0,g.j)(),p=(0,r.Z)(null!==(u=null!==(v=null!==(D=null!==(O=s?.weekStartsOn)&&void 0!==O?O:null==s||null===(t=s.locale)||void 0===t||null===(b=t.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==D?D:S.weekStartsOn)&&void 0!==v?v:null===(h=S.locale)||void 0===h||null===(m=h.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==u?u:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,f.Z)(Z),P=y.getDay(),_=(P<p?7:0)+P-p;return y.setDate(y.getDate()-_),y.setHours(0,0,0,0),y}}}]);