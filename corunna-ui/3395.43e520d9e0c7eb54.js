"use strict";(self.webpackChunkcorunna_ui=self.webpackChunkcorunna_ui||[]).push([[3395],{2039:(M,u,t)=>{t.d(u,{c:()=>g});var d=t(4850),l=t(9063),f=t(4650);let g=(()=>{class i extends d.q2{constructor(){super(l.ih.Setting,"cpt",!0),this.getSystemConfig().subscribe(a=>{this.systemConfig=a})}getDeleted(a,n,s){return this.get({endPoint:[l.wm.settingsQuery],params:[{k:"type",v:a},{k:"sDate",v:JSON.stringify(n)},{k:"eDate",v:JSON.stringify(s)}]})}saveSystemConfig(a){return this.post({payload:a,endPoint:[l.yv.settingsStore,l.yv.saveSettings]})}getSystemConfig(){return this.get({endPoint:[l.wm.settingsQuery,l.wm.getSettings]})}static#n=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},3395:(M,u,t)=>{t.r(u),t.d(u,{HairHomePageModule:()=>x});var d=t(9595),l=t(9207),f=t(8115),g=t(895),i=t(5119),S=t(1067),a=t(2039),n=t(4650),s=t(8118),v=t(2412),m=t(6895),b=t(2216);function _(o,A){if(1&o&&(n.TgZ(0,"swiper-slide",23)(1,"label",24)(2,"span"),n._uU(3),n.TgZ(4,"sup"),n._uU(5,"%"),n.qZA()(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"number"),n.TgZ(9,"sub"),n._uU(10,"c"),n.qZA()()(),n.TgZ(11,"h2",25),n._uU(12),n.ALo(13,"number"),n.qZA()()),2&o){const e=A.$implicit;n.xp6(3),n.hij(" ",null==e?null:e._id,""),n.xp6(4),n.hij(" ",n.lcZ(8,3,null==e?null:e.commissionAmount),""),n.xp6(5),n.hij(" ",n.lcZ(13,5,null==e?null:e.cost)," ")}}function Z(o,A){if(1&o&&(n.TgZ(0,"tr",26)(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.ALo(7,"number"),n.qZA(),n.TgZ(8,"td"),n._uU(9),n.ALo(10,"number"),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA()()),2&o){const e=A.$implicit;n.xp6(2),n.Oqu(null==e?null:e.invoiceId),n.xp6(2),n.Oqu(null==e?null:e.serviceName),n.xp6(2),n.Oqu(n.lcZ(7,6,null==e?null:e.serviceCost)),n.xp6(3),n.AsE("",n.lcZ(10,8,null==e?null:e.commissionAmount)," (",null==e?null:e.serviceCommission,"%)"),n.xp6(3),n.Oqu(null==e?null:e.numOfTimes)}}function O(o,A){if(1&o&&(n.TgZ(0,"tr",27)(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.ALo(5,"number"),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.ALo(8,"number"),n.qZA()()),2&o){const e=A.$implicit;n.xp6(2),n.AsE("",null==e||null==e.staff?null:e.staff.firstName," ",null==e||null==e.staff?null:e.staff.surName,""),n.xp6(2),n.Oqu(n.lcZ(5,4,null==e?null:e.serviceCost)),n.xp6(3),n.Oqu(n.lcZ(8,6,null==e?null:e.commissionAmount))}}const p=[{path:"",component:(()=>{class o{constructor(e,c,r,E,D){this.dashbaorderServcieService=e,this.modalCtrl=c,this.platform=r,this.servicesService=E,this.systemConfigService=D,this.dashoardServiceMain={},this.sDate=new Date,this.eDate=new Date}ngOnInit(){}ionViewDidEnter(){this.systemConfigService.getSystemConfig().subscribe(e=>{this.settings=e,"Daily"==this.settings.commissionRange&&(this.sDate=(0,f.Z)(new Date)),"Weekly"==this.settings.commissionRange&&(this.sDate=(0,g.Z)(new Date)),"Monthly"==this.settings.commissionRange&&(this.sDate=(0,i.Z)(new Date)),this.getOverview()}),this.servicesService.updateReport.subscribe(e=>{e&&this.getOverview()})}getOverview(e){this.dashbaorderServcieService.getDashboardServices(this.sDate,this.eDate).subscribe(c=>{this.dashoardServiceMain=c,e&&e.target.complete(),setTimeout(()=>{e&&e.target?.complete()},5e3)})}static#n=this.\u0275fac=function(c){return new(c||o)(n.Y36(l.D),n.Y36(s.IN),n.Y36(v.t4),n.Y36(S.r),n.Y36(a.c))};static#e=this.\u0275cmp=n.Xpm({type:o,selectors:[["healmah-hair-home"]],decls:67,vars:17,consts:[["color","primary",1,"ion-padding"],["slot","fixed",3,"ionRefresh"],[1,"bg:linear-gradient(90deg,#FA7B76,#1F2630,#A46A43)","r:10px",3,"auto","loop","pagination"],["class","min-h:100px p:10 f:white! f:1.1rem",4,"ngFor","ngForOf"],[1,"table","table-striped"],[2,"caption-side","top","text-align","left"],[1,"d:flex","jc:space-between","ai:center","px:5","f:white"],["routerLink","/super/service-history",1,"btn","btn-outline-primary","b:none!"],[2,"text-align","right"],["style","text-align: left; padding: 10px 0; border-bottom: 1px solid lightblue;",4,"ngFor","ngForOf"],[1,"table"],["routerLink","/super/staff-service-history",1,"btn","btn-outline-primary","b:none!"],["class","bb:beryl-1","style","text-align: left; padding: 10px 0; border-bottom: 1px solid lightblue;",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","start"],["color","secondary","size","small","routerLink","/super/render-service"],["icon","calendar-check",1,"f:#fff!"],["slot","fixed","vertical","bottom","horizontal","end"],["size","small","color","secondary","routerLink","/super/service-list"],["icon","list-check",1,"f:#fff!"],[1,"bg:#333B46!","shadow:none!","ion-no-border"],[1,"ion-padding","min-h:20vh!","shadow:0|-1|2|rgba(0,0,0,0.3)!","d:flex!","ai:center","rt:50px","f:white!","text-shadow:0|0|2|rgba(0,0,0,0.9)!"],[1,"rel"],[1,"w:100%","flex","jc:space-around","m:0","mt:-5px"],[1,"min-h:100px","p:10","f:white!","f:1.1rem"],[1,"flex","jc:space-evenly"],[1,"text-align:center","f:bold","f:1.6rem"],[2,"text-align","left","padding","10px 0","border-bottom","1px solid lightblue"],[1,"bb:beryl-1",2,"text-align","left","padding","10px 0","border-bottom","1px solid lightblue"]],template:function(c,r){1&c&&(n.TgZ(0,"ion-content",0)(1,"ion-refresher",1),n.NdJ("ionRefresh",function(D){return r.getOverview(D)}),n._UZ(2,"ion-refresher-content"),n.qZA(),n.TgZ(3,"main")(4,"swiper-container",2),n.YNc(5,_,14,7,"swiper-slide",3),n.qZA()(),n.TgZ(6,"table",4)(7,"caption",5)(8,"div",6)(9,"span"),n._uU(10),n.qZA(),n.TgZ(11,"button",7),n._uU(12,"More"),n.qZA()()(),n.TgZ(13,"thead")(14,"tr")(15,"th"),n._uU(16,"ID"),n.qZA(),n.TgZ(17,"th"),n._uU(18,"SERVICE"),n.qZA(),n.TgZ(19,"th"),n._uU(20,"AMT"),n.qZA(),n.TgZ(21,"th"),n._uU(22,"COM"),n.qZA(),n.TgZ(23,"th",8),n._uU(24,"X"),n.qZA()()(),n.TgZ(25,"tbody"),n.YNc(26,Z,13,10,"tr",9),n.qZA()(),n.TgZ(27,"table",10)(28,"caption",5)(29,"div",6)(30,"span"),n._uU(31),n.qZA(),n.TgZ(32,"button",11),n._uU(33,"More"),n.qZA()()(),n.TgZ(34,"thead")(35,"tr")(36,"th"),n._uU(37,"STAFF"),n.qZA(),n.TgZ(38,"th"),n._uU(39,"GROSS"),n.qZA(),n.TgZ(40,"th"),n._uU(41,"COM"),n.qZA()()(),n.TgZ(42,"tbody"),n.YNc(43,O,9,8,"tr",12),n.qZA()(),n.TgZ(44,"ion-fab",13)(45,"ion-fab-button",14),n._UZ(46,"fa-icon",15),n.qZA()(),n.TgZ(47,"ion-fab",16)(48,"ion-fab-button",17),n._UZ(49,"fa-icon",18),n.qZA()()(),n.TgZ(50,"ion-footer",19)(51,"ion-toolbar",20)(52,"header",21)(53,"span"),n._uU(54,"SVC"),n.qZA(),n.TgZ(55,"h1"),n._uU(56),n.ALo(57,"number"),n.qZA(),n.TgZ(58,"h2",22)(59,"span"),n._uU(60),n.ALo(61,"number"),n.qZA(),n.TgZ(62,"span"),n._uU(63),n.ALo(64,"number"),n.TgZ(65,"sub"),n._uU(66,"C"),n.qZA()()()()()()),2&c&&(n.xp6(4),n.Q6J("auto",!0)("loop",!1)("pagination",!0),n.xp6(1),n.Q6J("ngForOf",null==r.dashoardServiceMain?null:r.dashoardServiceMain.byCommission),n.xp6(5),n.Oqu("RENDERED SERVICES"),n.xp6(16),n.Q6J("ngForOf",null==r.dashoardServiceMain||null==r.dashoardServiceMain.services?null:r.dashoardServiceMain.services.slice(0,2)),n.xp6(5),n.Oqu("SERVICE BY STAFF"),n.xp6(12),n.Q6J("ngForOf",null==r.dashoardServiceMain||null==r.dashoardServiceMain.byStaff?null:r.dashoardServiceMain.byStaff.slice(0,2)),n.xp6(13),n.hij(" ",n.lcZ(57,11,((null==r.dashoardServiceMain||null==r.dashoardServiceMain.main?null:r.dashoardServiceMain.main.cost)||1)-((null==r.dashoardServiceMain||null==r.dashoardServiceMain.main?null:r.dashoardServiceMain.main.commissionAmount)||1))," "),n.xp6(4),n.hij(" ",n.lcZ(61,13,(null==r.dashoardServiceMain||null==r.dashoardServiceMain.main?null:r.dashoardServiceMain.main.cost)||0)," "),n.xp6(3),n.Oqu(n.lcZ(64,15,(null==r.dashoardServiceMain||null==r.dashoardServiceMain.main?null:r.dashoardServiceMain.main.commissionAmount)||0)))},dependencies:[m.sg,d.rH,s.W2,s.IJ,s.W4,s.fr,s.nJ,s.Wo,s.sr,s.YI,b.BN,m.JJ],styles:["[_nghost-%COMP%]{--ion-color-primary: #333B46;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #333B46;--ion-color-primary-tint: #333B46;--ion-color-secondary: #1F2630;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #1F2630;--ion-color-secondary-tint: #1F2630;--ion-color-tertiary: #f3f3f3;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}header[_ngcontent-%COMP%]{background:transparent;border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-bottom:10px;color:#000;width:50px;height:50px;background-color:#fffc;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:1.1em;font-weight:700}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;color:#fff;font-weight:700}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#ffffffe6;font-weight:500}sub[_ngcontent-%COMP%]{opacity:.7}ion-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(30deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(150deg, #1F2630 12%, transparent 12.5%, transparent 87%, #1F2630 87.5%, #1F2630), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077), linear-gradient(60deg, #1F263077 25%, transparent 25.5%, transparent 75%, #1F263077 75%, #1F263077);background-size:20px 35px;background-position:0 0,0 0,10px 18px,10px 18px,0 0,10px 18px}"]})}return o})()}];let h=(()=>{class o{static#n=this.\u0275fac=function(c){return new(c||o)};static#e=this.\u0275mod=n.oAB({type:o});static#t=this.\u0275inj=n.cJS({imports:[d.Bz.forChild(p),d.Bz]})}return o})();var y=t(4850);let x=(()=>{class o{static#n=this.\u0275fac=function(c){return new(c||o)};static#e=this.\u0275mod=n.oAB({type:o});static#t=this.\u0275inj=n.cJS({imports:[y._o,y.Nu,h]})}return o})()},8115:(M,u,t)=>{t.d(u,{Z:()=>f});var d=t(953),l=t(833);function f(g){(0,l.Z)(1,arguments);var i=(0,d.Z)(g);return i.setHours(0,0,0,0),i}},5119:(M,u,t)=>{t.d(u,{Z:()=>f});var d=t(953),l=t(833);function f(g){(0,l.Z)(1,arguments);var i=(0,d.Z)(g);return i.setDate(1),i.setHours(0,0,0,0),i}},895:(M,u,t)=>{t.d(u,{Z:()=>i});var d=t(953),l=t(1998),f=t(833),g=t(8370);function i(S,a){var n,s,v,m,b,_,Z,O;(0,f.Z)(1,arguments);var T=(0,g.j)(),p=(0,l.Z)(null!==(n=null!==(s=null!==(v=null!==(m=a?.weekStartsOn)&&void 0!==m?m:null==a||null===(b=a.locale)||void 0===b||null===(_=b.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==v?v:T.weekStartsOn)&&void 0!==s?s:null===(Z=T.locale)||void 0===Z||null===(O=Z.options)||void 0===O?void 0:O.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,d.Z)(S),y=h.getDay(),x=(y<p?7:0)+y-p;return h.setDate(h.getDate()-x),h.setHours(0,0,0,0),h}}}]);